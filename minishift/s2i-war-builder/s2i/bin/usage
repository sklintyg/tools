#!/bin/bash

# Use openshift env vars
source $(dirname "$0")/s2i-setup

LINUX=$(uname -a)

if [ -f /etc/redhat-release ]; then
    RELEASE=$(cat /etc/redhat-release)
else
    RELEASE=""
fi

JAVA=$(java -version 2>&1)

cat <<EOF
This is an openshift S2I Java build container (typically building with a gradle wrapper).

From Image: ${JBOSS_IMAGE_NAME}:${JBOSS_IMAGE_VERSION}
Source: $OPENSHIFT_BUILD_SOURCE
Commit: $OPENSHIFT_BUILD_COMMIT
Build Name: $OPENSHIFT_BUILD_NAME
Artifact: $S2I_ARTIFACTS_DIR/ROOT.war

Platform:
$RELEASE
$LINUX
$JAVA
EOF

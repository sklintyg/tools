apiVersion: v1
data:
  credentials.properties: >-
    sakerhetstjanst.saml.keystore.password=kYSj37ucRb

    sakerhetstjanst.saml.truststore.password=v7yu5kFwqrllbbjR


    sakerhetstjanst.ws.certificate.password=kYSj37ucRb

    sakerhetstjanst.ws.key.manager.password=kYSj37ucRb

    sakerhetstjanst.ws.truststore.password=v7yu5kFwqrllbbjR


    #ntjp.ws.certificate.password=a56pghtAZ3

    #ntjp.ws.key.manager.password=a56pghtAZ3

    #ntjp.ws.truststore.password=password


    # QA-Certs:

    ntjp.ws.certificate.password = kYSj37ucRb

    ntjp.ws.key.manager.password = kYSj37ucRb

    ntjp.ws.truststore.password = v7yu5kFwqrllbbjR


    ## Currently, we're using the sakerhetstjanst keystore for GRP so the passwords are the same

    cgi.grp.ws.certificate.password=kYSj37ucRb

    cgi.grp.ws.key.manager.password=kYSj37ucRb


    ## Using truststore grp.test.truststore.jks

    cgi.grp.ws.truststore.password=v7yu5kFwqrllbbjR

  idp-eleg.xml: >-
    <md:EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
    ID="_03d3f420b699b51ffda0a46dd665122831" cacheDuration="PT12H0M0.000S"
    entityID="https://m00-mg-local.testidp.funktionstjanster.se/samlv2/idp/metadata/0/10">
      <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
        <ds:SignedInfo>
          <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
          <ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"/>
          <ds:Reference URI="#_03d3f420b699b51ffda0a46dd665122831">
            <ds:Transforms>
              <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>
              <ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
            </ds:Transforms>
            <ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/>
            <ds:DigestValue>OQ8mtetE5EDvGELWPe9ofcK+AU+/sfWc7f67YzGWTik=</ds:DigestValue>
          </ds:Reference>
        </ds:SignedInfo>
        <ds:SignatureValue>
          dSbimEI8FOFENEdfVHEKk72yXXGcjmMEWm/PwRvTNds9cwKKO41wlPCoxgleuCQyUhr8WpZhTMChaHigEX2rt0aVXP/nXHLOPSeuUS4xXh3YHSlOhxS+OWScx7c7qe5kGPp/B/U9eU0MjoxOrYJSMwrPAObBz0SG1Ts93ijqMrRbZtnJk0/eq3OaLWThATL+EH8sdkgWXSlsF03jiPXGmjmMZo18HYVdNm/8HxINcESloIEltBgaAnbDIEoOjDL+0gM9cPkYiJ0XEakVfrBGnEfyGCwaHddxZyJcIPk/NFM/k/NmBCsQb72yQeegxBD+/Oqza+Vt8Hi/QHPEFtd3PQ==
        </ds:SignatureValue>
        <ds:KeyInfo>
          <ds:X509Data>
            <ds:X509Certificate>
              MIIHZzCCBk+gAwIBAgIMF+FmN1a1qzLOgkF4MA0GCSqGSIb3DQEBCwUAMEwxCzAJBgNVBAYTAkJF
              MRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSIwIAYDVQQDExlBbHBoYVNTTCBDQSAtIFNIQTI1
              NiAtIEcyMB4XDTE2MTEyNTEzMTcxNFoXDTE5MTEyNjEzMTcxNFowVzELMAkGA1UEBhMCU0UxITAf
              BgNVBAsTGERvbWFpbiBDb250cm9sIFZhbGlkYXRlZDElMCMGA1UEAwwcdGVzdGlkcC5mdW5rdGlv
              bnN0amFuc3Rlci5zZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALdvVtRM0we9xezi
              bx3a9y0u+jutxeU+JrmGY8guPOpFBwwRtb0brYd2yCEs6w0qg9kQNgTGVeUTCjwOt/KclU2Vzpdi
              TaOG0F+lTyGupibnj8PJm9BANbgtfIuni3XiUnfhArDcGs32po4SPkKl96Ta24D23UW0j4bpooeQ
              xMntKlcJ1vOCLRbqfgJYnOQcpcC/4AJK2cYR3XmksZBC1eZ5PiQ08JL+TSCAXe3AuNUg1wp3GQNT
              zBvHZBedPDJErpMiHmnQiMjMn5vv6dwLkWbhR8+tXqqlcvBwHHcUS+DST4UhrYZpPX7UsvTP/VbH
              ZUh3Ui/+zkWQVFzGkOr59XcCAwEAAaOCBDwwggQ4MA4GA1UdDwEB/wQEAwIFoDCBiQYIKwYBBQUH
              AQEEfTB7MEIGCCsGAQUFBzAChjZodHRwOi8vc2VjdXJlMi5hbHBoYXNzbC5jb20vY2FjZXJ0L2dz
              YWxwaGFzaGEyZzJyMS5jcnQwNQYIKwYBBQUHMAGGKWh0dHA6Ly9vY3NwMi5nbG9iYWxzaWduLmNv
              bS9nc2FscGhhc2hhMmcyMFcGA1UdIARQME4wQgYKKwYBBAGgMgEKCjA0MDIGCCsGAQUFBwIBFiZo
              dHRwczovL3d3dy5nbG9iYWxzaWduLmNvbS9yZXBvc2l0b3J5LzAIBgZngQwBAgEwCQYDVR0TBAIw
              ADA+BgNVHR8ENzA1MDOgMaAvhi1odHRwOi8vY3JsMi5hbHBoYXNzbC5jb20vZ3MvZ3NhbHBoYXNo
              YTJnMi5jcmwwJwYDVR0RBCAwHoIcdGVzdGlkcC5mdW5rdGlvbnN0amFuc3Rlci5zZTAdBgNVHSUE
              FjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHQYDVR0OBBYEFBG0CpH9QANh4x0mJ9rmYrz0LxgLMB8G
              A1UdIwQYMBaAFPXN1TwIUPlqTzq3l9pWg+Zp0mj3MIICbAYKKwYBBAHWeQIEAgSCAlwEggJYAlYA
              dgDd6x0reg1PpiCLga2BaHB+Lo6dAdVciI09EcTNtuy+zAAAAVibogHaAAAEAwBHMEUCIQDrU2wR
              fIVHu2LOK2XkO0zft33VODCKgT7A50YPz8qItgIgYbEsoKAFc0FTxRn8a+Yh1eMnR2UWmk4cCuOz
              CHTM50gAdgBWFAaaL9fC7NP14b1Esj7HRna5vJkRXMDvlJhV1onQ3QAAAVibogPNAAAEAwBHMEUC
              ICugbUAqjcVheqOvjq00jzn6ZErL7s0x6IJZt9AhXE36AiEAqGp/hDNXDDGE42BOtGy8IoH8VCgT
              mMHrM49hs3rqCyQAdgCkuQmQtBhYFIe7E6LMZ3AKPDWYBPkb37jjd80OyA3cEAAAAVibogTTAAAE
              AwBHMEUCIQCUIhAPQwS/Q/mQiaicx3tCKNooYT4HEWBoMX4GLIb0pgIgK66GPlTT1oBocKrdz7Ob
              5G2s0J4RHzVV+sBFHBy+458AdQBo9pj4H2SCvjqM7rkoHUz8cVFdZ5PURNEKZ6y7T0/7xAAAAVib
              ogWjAAAEAwBGMEQCIHJtsd2Z82Ly2RuOq20hvi1Fb2iEnZsxy5AO20fDlxtuAiB8ve1X3a8uFwG2
              1B2C4SMKxE24vYsBbOvTtBqj3JqCkgB1AO5Lvbd1zmC64UJpH6vhnmajD35fsHLYgwDEe4l6qP3L
              AAABWJuiDKIAAAQDAEYwRAIgRf12AsD/XrHsUNNHfIbanSoWOg/o4YBBOhlUh39v0YMCIExBZSJs
              pqBlNu1xUrCsCGhZ376MOzkPQjEioV5azFd5MA0GCSqGSIb3DQEBCwUAA4IBAQAX+vAT9GHA3bQb
              Xeny7bNG0RFddoJr5xocshSAmTjIb+0wFy6/P3Ud4XBkR18iAjwGYhnRI0+12OlCRUbl4xe1KfTQ
              x6DBJRNWWpGfUgHV5D3+Te132WChrQgxBNTA5YABp+GxA/BmwJPPnYw3OQOGLCYAsdsy24mlk7Tq
              Rk14wSM5Ul+3lieE0Bi0TeBQBHOUJGU2eoTIKaS/kd/Z/gkUpjrWY2X7FnAEo7A61yQkvRRTGfQj
              K8X6JbpauN6gqBT3GJwHpEjxZrrToc78I6RVHxBE1XmY1Ldr11jLvqs7Y6H+VZg1vSdVnim4t0rT em3wlDLyG8xLzrIVJq2XOiHZ
            </ds:X509Certificate>
          </ds:X509Data>
        </ds:KeyInfo>
      </ds:Signature>
      <md:IDPSSODescriptor WantAuthnRequestsSigned="false" protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">
        <md:KeyDescriptor use="signing">
          <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:X509Data>
              <ds:X509Certificate>
                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
              </ds:X509Certificate>
            </ds:X509Data>
            <ds:KeyName>
              IDP Funktionstjanster 2017--2016.testidp.funktionstjanster.se.cer
            </ds:KeyName>
          </ds:KeyInfo>
        </md:KeyDescriptor>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://m00-mg-local.testidp.funktionstjanster.se/samlv2/idp/sloreq/0/10?mgvhostparam=0" ResponseLocation="https://m00-mg-local.testidp.funktionstjanster.se/samlv2/idp/sloresp/0/10?mgvhostparam=0"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://m00-mg-local.testidp.funktionstjanster.se/samlv2/idp/sloreq/0/10?mgvhostparam=0" ResponseLocation="https://m00-mg-local.testidp.funktionstjanster.se/samlv2/idp/sloresp/0/10?mgvhostparam=0"/>
        <md:NameIDFormat>
          urn:oasis:names:tc:SAML:2.0:nameid-format:transient
        </md:NameIDFormat>
        <md:SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://m00-mg-local.testidp.funktionstjanster.se/samlv2/idp/req/0/10?mgvhostparam=0"/>
        <md:SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://m00-mg-local.testidp.funktionstjanster.se/samlv2/idp/req/0/10?mgvhostparam=0"/>
      </md:IDPSSODescriptor>
    </md:EntityDescriptor>

  idp-sakerhetstjanst.xml: >-
    <?xml version="1.0" encoding="UTF-8"?>

    <md:EntityDescriptor
    xmlns:mdattr="urn:oasis:names:tc:SAML:metadata:attribute"
    xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
    xmlns:idpdisc="urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol"
    xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion"
    xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
    xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol"
    xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"
    entityID="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml">
      <md:Extensions>
        <mdattr:EntityAttributes>
          <saml:Attribute Name="urn:oasis:names:tc:SAML:attribute:assurance-certification" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">
            <saml:AttributeValue>https://id.sambi.se/loa/loa3</saml:AttributeValue>
          </saml:Attribute>
        </mdattr:EntityAttributes>
      </md:Extensions>
      <md:IDPSSODescriptor WantAuthnRequestsSigned="false" protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">
        <md:KeyDescriptor use="signing">
          <ds:KeyInfo>
            <ds:X509Data>
              <ds:X509Certificate>
                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
              </ds:X509Certificate>
            </ds:X509Data>
          </ds:KeyInfo>
        </md:KeyDescriptor>
        <md:ArtifactResolutionService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/artifact/SOAP" index="1" isDefault="false"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/slo/HTTP-POST"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/slo/HTTP-Redirect"/>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>
        <md:SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://idp2.acctest.sakerhetstjanst.inera.se:443/idp/saml/sso/HTTP-Redirect"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/employeeHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="employeeHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/systemRole" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="systemRole"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="assignmentName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareUnitName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careUnitName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionRight" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="commissionRight"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareUnitHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careUnitHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareProviderName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careProviderName"/>
        <saml:Attribute Name="urn:sambi:names:attribute:levelOfAssurance" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="levelOfAssurance"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/paTitleCode" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="titleCode"/>
        <saml:Attribute Name="urn:sambi:names:attribute:x509IssuerName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="x509IssuerName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/givenName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="givenName"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/surname" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="middleAndSurname"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="assignmentHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/commissionPurpose" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="commissionPurpose"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthCareProviderHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="careProviderHsaId"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/healthcareProfessionalLicense" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="title"/>
        <saml:Attribute Name="http://sambi.se/attributes/1/personalPrescriptionCode" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="personalPrescriptionCode"/>
        <saml:Attribute Name="urn:sambi:names:attribute:authnMethod" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="authnMethod"/>
      </md:IDPSSODescriptor>
      <md:Organization>
        <md:OrganizationName xml:lang="sv">Säkerhetstjänster</md:OrganizationName>
        <md:OrganizationDisplayName xml:lang="sv">Säkerhetstjänster</md:OrganizationDisplayName>
        <md:OrganizationURL xml:lang="sv">https://idp.acctest.sakerhetstjanst.inera.se:443/idp/saml</md:OrganizationURL>
      </md:Organization>
      <md:ContactPerson xml:lang="sv" contactType="technical">
        <md:Company>CGI</md:Company>
        <md:GivenName>Anders</md:GivenName>
        <md:SurName>Andersson</md:SurName>
        <md:EmailAddress>anders.andersson@example.com</md:EmailAddress>
        <md:TelephoneNumber>0701234567</md:TelephoneNumber>
      </md:ContactPerson>
    </md:EntityDescriptor>

  logsender-logback.xml: |+
    <?xml version="1.0" encoding="UTF-8" ?>
    <configuration scan="true" scanPeriod="30 seconds">
      <jmxConfigurator />
      <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <layout class="ch.qos.logback.classic.PatternLayout">
          <pattern>%date{ISO8601} [%thread] %-5level %logger{10} - %msg%n
          </pattern>
        </layout>
      </appender>

      <!--Daily rolling file appender -->
      <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <File>${catalina.base}/logs/log-sender.log</File>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
          <FileNamePattern>${catalina.base}/logs/log-sender.%d{yyyy-MM-dd}.log</FileNamePattern>
        </rollingPolicy>

        <layout class="ch.qos.logback.classic.PatternLayout">
          <Pattern>%date{ISO8601} [%thread] %-5level %logger{10} - %msg%n
          </Pattern>
        </layout>
      </appender>

      <logger name="org.springframework" level="error" />

      <logger name="org.apache.cxf.services" level="error" />

      <logger name="se.inera" level="error" />

      <root>
        <level value="error" />
        <appender-ref ref="STDOUT" />
        <appender-ref ref="FILE" />
      </root>
    </configuration>

  sp-eleg.xml: >-
    <?xml version="1.0" encoding="UTF-8"?>

    <md:EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
    ID="webcert.intygstjanster.inera.se"
    entityID="https://demo.webcert.intygstjanster.se/eleg">
      <md:SPSSODescriptor AuthnRequestsSigned="false" WantAssertionsSigned="false" protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://demo.webcert.intygstjanster.se/saml/SingleLogout/alias/eleg"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://demo.webcert.intygstjanster.se/saml/SingleLogout/alias/eleg"/>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</md:NameIDFormat>
        <md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://demo.webcert.intygstjanster.se/saml/SSO/alias/eleg" index="0" isDefault="true"/>
        <md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact" Location="https://demo.webcert.intygstjanster.se/saml/SSO/alias/eleg" index="1"/>
      </md:SPSSODescriptor>
    </md:EntityDescriptor>

  sp-sakerhetstjanst.xml: >-
    <?xml version="1.0" encoding="UTF-8"?>

    <md:EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
    ID="https___webcert.inera.nordicmedtest.se_21443"
    entityID="https://demo.webcert.intygstjanster.se">
      <md:SPSSODescriptor AuthnRequestsSigned="false" WantAssertionsSigned="true" protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol">
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://demo.webcert.intygstjanster.se/saml/SingleLogout/alias/defaultAlias"/>
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://demo.webcert.intygstjanster.se/saml/SingleLogout/alias/defaultAlias"/>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</md:NameIDFormat>
        <md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://demo.webcert.intygstjanster.se/saml/SSO/alias/defaultAlias" index="0" isDefault="true"/>
        <md:AttributeConsumingService index="1">
          <md:ServiceName xml:lang="sv">TestSP med HSA-uppslag</md:ServiceName>
          <md:RequestedAttribute Name="http://sambi.se/attributes/1/employeeHsaId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="employeeHsaId" isRequired="true"/>
          <md:RequestedAttribute Name="urn:sambi:names:attribute:authnMethod" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" FriendlyName="authnMethod" isRequired="true"/>
        </md:AttributeConsumingService>
      </md:SPSSODescriptor>
    </md:EntityDescriptor>

  rehabstod-logback.xml: |
    <?xml version="1.0" encoding="UTF-8" ?>
    <configuration scan="true" scanPeriod="30 seconds">

      <jmxConfigurator />

      <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <filter class="se.inera.intyg.rehabstod.common.monitoring.util.MarkerFilter">
          <markers>Monitoring, HSA</markers>
          <onMatch>DENY</onMatch>
          <onMismatch>ACCEPT</onMismatch>
        </filter>
        <layout class="ch.qos.logback.classic.PatternLayout">
          <Pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</Pattern>
        </layout>
      </appender>

      <!-- Daily rolling file appender for logging monitoring events -->
      <appender name="MONITORING" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <filter class="se.inera.intyg.rehabstod.common.monitoring.util.MarkerFilter">
          <marker>Monitoring</marker>
          <onMatch>ACCEPT</onMatch>
          <onMismatch>DENY</onMismatch>
        </filter>
        <file>${catalina.base}/logs/rehabstod-monitoring.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
          <fileNamePattern>${catalina.base}/logs/rehabstod-monitoring.%d{yyyy-MM-dd}.log
          </fileNamePattern>
        </rollingPolicy>
        <encoder class="ch.qos.logback.core.encoder.LayoutWrappingEncoder">
          <layout class="se.inera.intyg.rehabstod.logging.PatternLayoutWithUserContext">
            <param name="Pattern" value="%date{ISO8601} %session %user - %msg%n" />
          </layout>
        </encoder>
      </appender>

      <logger name="se.inera.intyg.rehabstod" level="info"/>

      <root>
        <level value="info" />
        <appender-ref ref="STDOUT" />
        <appender-ref ref="MONITORING" />
      </root>

    </configuration>


  rehabstod.properties: >
    # Configuration and resource folders

    config.dir=${rehabstod.config.folder}

    resources.dir==${rehabstod.resources.folder}


    # Host URLs

    localhost.url=http://localhost:8080

    intygstjanst.host.url = http://intygstjanst:8080

    intygstjanst.secure.host.url = http://intygstjanst:8080

    srs.host.url=${localhost.url}

    ntjp.base.url=${localhost.url}/services

    webcert.view.urltemplate=http://webcert:9088/visa/intyg/{intygsId}/readonly?enhet={enhet}


    # Database settings

    db.driver=org.h2.Driver

    db.url=jdbc:h2:mem:rehabstoddatajpa;DB_CLOSE_DELAY=-1

    db.httpPort=8096

    db.tcpPort=8097

    db.username=rehabstod

    db.password=rehabstod


    # Hibernate settings

    hibernate.dialect=org.hibernate.dialect.H2Dialect

    hibernate.hbm2ddl.auto=

    hibernate.ejb.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy

    hibernate.show_sql=false

    hibernate.format_sql=true

    hibernate.id.new_generator_mappings=false


    # Dynamic loading of identities into HSA stub

    hsa.stub.additional.identities.folder=${java.io.tmpdir}


    # Dynamic links

    dynamic.links.file=${resources.dir}/links/rehabstod.links.json


    # In this env a test jms receiver is used for integration tests

    statistics.enabled = true


    # Authorization och features

    authorities.configuration.file=file://${resources.dir}/security/authorities.yaml

    features.configuration.file=file://${resources.dir}/security/features.yaml


    # Diagnoskapitel, -grupper och -koder

    rhs.diagnoskapitel.file=file://${resources.dir}/diagnoskapitel.txt

    rhs.diagnosgrupper.file=file://${resources.dir}/diagnosgrupper.txt

    rhs.diagnoskod.ksh97_kat.file=file://${resources.dir}/diagnoskoder/KSH97_KAT.ANS

    rhs.diagnoskod.ksh97_kod.file=file://${resources.dir}/diagnoskoder/KSH97_KOD.ANS

    rhs.diagnoskod.ksh97_kxx.file=file://${resources.dir}/diagnoskoder/KSH97_KXX.ANS

    rhs.diagnoskod.ksh97p_kod.file=file://${resources.dir}/diagnoskoder/KSH97P_KOD.ANS


    # Stubbad data

    rhs.sjukfall.stub.numberOfPatients=350

    rhs.sjukfall.stub.intygPerPatient=4

    rhs.stub.personnummer.file=file://${resources.dir}/stubdata/testpersonnummer_skatteverket.csv


    ################################################

    #

    # Intygstj\u00E4nst Configurations

    #

    #################################################

    it.ping.url=${intygstjanst.host.url}/inera-certificate/ping-for-configuration/v1.0

    it.service.url=${intygstjanst.host.url}/inera-certificate/list-active-sick-leaves-for-care-unit/v1.0

    it.service.connection.timeout=5000

    it.service.receive.timeout=5000

    it.service.logicalAddress=


    ################################################

    #

    # S\u00E4kerhetstj\u00E4nsten Configurations

    #

    ################################################

    sakerhetstjanst.saml.keystore.file=file://${config.dir}/certifikat/test.intygstjanster.sjunet.org.jks

    sakerhetstjanst.saml.keystore.alias=test.intygstjanster.sjunet.org

    sakerhetstjanst.saml.responseSkew = 300


    ################################################

    #

    # HSA-Integration Configurations

    #

    ################################################

    infrastructure.directory.authorizationmanagement.getcredentialsforpersonincludingprotectedpersonresponderinterface.endpoint.url=${ntjp.base.url}/inera-certificate/hsa-authorization

    infrastructure.directory.organization.getunit.endpoint.url=${ntjp.base.url}/inera-certificate/hsa-unit

    infrastructure.directory.organization.gethealthcareunit.endpoint.url=${ntjp.base.url}/inera-certificate/hsa-healthcareunit

    infrastructure.directory.organization.gethealthcareunitmembers.endpoint.url=${ntjp.base.url}/inera-certificate/hsa-healthcareunit-members

    infrastructure.directory.employee.getemployee.endpoint.url=${ntjp.base.url}/inera-certificate/hsa-employee

    infrastructure.directory.logicalAddress=


    ################################################

    #

    # Personuppgiftstj\u00E4nsten Configurations

    #

    ################################################

    putjanst.logicaladdress = PUTEST

    putjanst.endpoint.url = ${localhost.url}/services/pu


    ################################################

    #

    # SRS Configurations

    #

    #################################################

    srs.ping.url=${srs.host.url}/ping-for-configuration/v1.0

    srs.service.url=${srs.host.url}/get-risk-prediction-for-certificate/v1.0

    srs.service.connection.timeout=5000

    srs.service.receive.timeout=5000

    srs.service.logicalAddress=


    ################################################

    #

    # HSA/PU ignite cache settings

    #

    ################################################

    cache.ipaddresses=127.0.0.1:47530..47539

    cache.default.expiration.seconds=3600

    cache.bindport=47530

    hsa.unit.cache.expiry=3600

    hsa.healthcareunit.cache.expiry=3600

    hsa.healhcareunitmembers.cache.expiry=3600

    employee.name.cache.expiry=36000

    pu.cache.expiry=36000


    ################################################

    #

    # NTjP WebService Configuration

    #

    ################################################

    ntjp.ws.certificate.file = ${config.dir}/certifikat/verifiering.webcert.intygstjanster.sjunet.org_autentisering.p12

    ntjp.ws.certificate.type = PKCS12

    ntjp.ws.truststore.file=${config.dir}/certifikat/truststore.jks

    ntjp.ws.truststore.type=JKS

kind: ConfigMap
metadata:
  name: rehabstod-konfiguration-test


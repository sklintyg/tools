---
# file: vars/apache

apache_extra_parameters: |
    ProxyPreserveHost On
    ProxyPass / {{ proxy_pass }}
    ProxyPassReverse / {{ proxy_pass }}
    ProxyRequests On
    ProxyVia On

apache_vhosts:
  - {
    servername: "{{ proxy_name }}",
    documentroot: "/var/www/",
    extra_parameters: "{{ apache_extra_parameters }}"
  }

apache_vhosts_ssl:
  - {
    servername: "{{ proxy_name }}",
    documentroot: "/var/www/",
    certificate_file: "{{ certificate_file }}",
    certificate_key_file: "{{ certificate_key_file }}",
    extra_parameters: "{{ apache_extra_parameters }}"
  }

apache_mods_enabled:
  - proxy.load
  - proxy_http.load
  - rewrite.load
  - ssl.load
<!doctype html>
<html>
<head>
<!--Vid problem ange referens: (PARM{refid})-->
  <link rel="shortcut icon" type="image/x-icon" media="screen" href="/images/favicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="/bootstrap.min.css" rel="stylesheet" type="text/css">
  <title>PARM{text-logintomg}</title>
  <link href="/common.css" rel="stylesheet" type="text/css">
  <!--[if IE 7]>
    <link href="/ie.css" rel="stylesheet" type="text/css">
  <![endif]-->
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="initial-scale=1, width=device-width, maximum-scale=1, user-scalable=no"/>
  <meta http-equiv="refresh" content="500;url=PARM{prop-saml.sploginurl}">
    <script type="text/javascript" src="/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="/bootstrap.min.js"></script>
</head>

<!--
<script language="javascript" type="text/javascript">
function setFocus(){document.form.ssn.focus();}
</script>
-->

<!-- <body id="commonbody" onLoad="setFocus()"> -->
<body id="commonbody" style="margin: 0;">
  PARM{include:/header.html}
  <div id="containerbody">
      <div id="backlink">
          <i class="material-icons">keyboard_arrow_left</i><a href="/">Tillbaka till inloggningssidan</a>
      </div>
        <h2>Inloggning med Mobilt BankID</h2>
        <form method="post" action="/mg-localPARM{form-url}" name="form" accept-charset="UTF-8">
            <span><p>Ange ditt personnummer<!--PARM{text-mbi-ssn}--></p></span>
            <div class="pnrinput">
                <input class="form-control inputfield" type="text" name="ssn" placeholder="ååååmmdd-nnnn" maxlength="13" pattern="[0-9]{8}[-]{1}[0-9]{4}" id="numberInput" onkeyup="inputCheck(event)"
                oninput="valueCheck()">
                <button class="button btn btn-success" id="submitButton" type="submit" disabled>
                    <span>Fortsätt</span>
                </button>
            </div>
                <p class="errortxt">PARM{error-message}</p>
        </form>
  </div>
      
      <script>
          var oldValue = document.getElementById("numberInput").value;

          function valueCheck() {
            var newValue = document.getElementById("numberInput").value;

            if (newValue.match(/(^\d{1,8}$|^[0-9]{8}[-]{1}[0-9]{0,4}$)/)) {
                oldValue = newValue;
            } else if (newValue.length > 1) {
                document.getElementById("numberInput").value = oldValue;
            } else {
                document.getElementById("numberInput").value = '';
            }

    }
     function inputCheck(event) {

          var inputValue = document.getElementById("numberInput").value;

          if (inputValue.match(/(^\d{1,8}$|^[0-9]{8}[-]{1}[0-9]{0,4}$)/)) {
              var key = event.keyCode || event.charCode;

              if (inputValue.length === 8 && key !== 8){
                  document.getElementById("numberInput").value = inputValue + '-';
              }
          }

          if(inputValue.match(/[0-9]{8}[-]{1}[0-9]{4}/))   {
                document.getElementById("submitButton").disabled = false;
          } else {
                 document.getElementById("submitButton").disabled = true;
          }
      }
      </script>


  PARM{include:/footer.html}
